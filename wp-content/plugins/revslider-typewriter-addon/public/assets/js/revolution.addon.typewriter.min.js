!function(){var e,t,i,s=[],r=["onbeforeswap","layeraction","beforeredraw","afterdraw"];function n(n,a,h){s[s.length]=this,e||((e=n).event.special.typewriterDestroyed={remove:function(e){e.handler()}},i=document.createElement("textarea")),t="",this.layrs=[];var l=!(!e.fn.revolution||!e.fn.revolution[a[0].id])&&e.fn.revolution[a[0].id];if(l=l&&l.hasOwnProperty("responsiveLevels")?l.responsiveLevels:"",this.levels=l.toString().split(","),this.slider=a.on("typewriterDestroyed",p),h.each(this.writeLayerData.bind(this)),t){var o=document.head||document.body;if(o){var d=document.createElement("style");d.type="text/css",d.innerHTML=t,o.appendChild(d)}}for(var c=r.length,u=0;u<c;u++)a.on("revolution.slide."+r[u],this.eventCallback.bind(this))}function a(i,s,r,n){this.spans=[],this.textSpans=[],this.incompleteSpan=!1;var a,o,p,d,c,u,f,y,w,g,v,m,b,T,k=JSON.parse(i.getAttribute("data-typewriter")),D=s.replace(/(_|\|)$/,""),S=i.className,L=k.lines,x=s,H=[];for(var M in!L&&k.sequenced&&k.looped&&(L=s),function(e){for(var t in e)e.hasOwnProperty(t)&&"string"==typeof e[t]&&-1!==e[t].search("ms")&&(e[t]=e[t].replace("ms",""))}(k),e(i).addClass("hide-typewriter-cursor"),k)k.hasOwnProperty(M)&&(g=k[M],this[M=M.replace(/_([a-z])/g,h)]="on"===g||!0===g?1:"off"===g||!1===g?0:!1===isNaN(g)?parseInt(g,10):g);if(this.blinking&&(t+="#"+i.id+":after {"+'content: "[char]"; animation: tp-typewriter [speed]s steps(2, start) infinite'.replace("[char]","one"===this.cursorType?"_":"|").replace("[speed]",.001*parseInt(this.blinkingSpeed,10))+"}#"+i.id+'.hide-typewriter-cursor:after {content: ""}',this.color&&"transparent"!==this.color&&(t+="#"+i.id+":after {color:"+this.color+";}"),this.background))if((v=i.getAttribute("data-dim"))||(v="w:auto;h:auto;"),o=(o=(o=v.split("w:")[1]).split(";")[0]).replace(/[\[\]']+/g,"").split(","),r)for(w=o.length,T=0;T<w;T++)(d=r[T])!==p&&(f="auto"===(f=o[T])||"none"===f,T>0?(f=f?"static":"absolute",t+="@media screen and (max-width: "+d+"px) {rs-layer#"+i.id+"[data-typewriter]:after {position: "+f+"}#"+i.id+".rs-layer[data-typewriter]:after {position: "+f+"}}"):f&&i.setAttribute("data-typewriter-blinking","true"),p=d);else"none"!==(f=o[0])&&"auto"!==f||i.setAttribute("data-typewriter-blinking","true");if(this.sequenced&&L){var A=l(unescape(s));for(this.textSpans=this.textSpans.concat(A.spans),s=[A.value],w=(L=L.split(",")).length,T=0;T<w;T++)y=e.trim(L[T]),A=l(unescape(y)),this.spans=this.spans.concat(A.spans),y&&(s[s.length]=A.value);i.setAttribute("data-typewriter-sequenced","true")}else{this.looped=!1,this.sequenced=!1,this.newlineDelay=this.linebreakDelay;A=l(s,!0);for(this.spans=this.spans.concat(A.spans),w=(L=A.value.split(/\r?\n|\r/g)).length,s=[],T=0;T<w;T++)s[s.length]=e.trim(L[T]),s[s.length]="";for(;""===s[0];)s.shift();for(;""===s[s.length-1];)s.pop()}if(this.wordDelay)if(a=k.delays){for(w=(a=a.split(",")).length,u=0,T=0;T<w;T++)m=(c=unescape(a[T]).split("|"))[0],b=c[1],!1===isNaN(m)&&!1===isNaN(b)&&(H[(m=parseInt(m))+u-1]=parseInt(b),u+=m);this.spaces=H}else this.wordDelay=!1;this.el=i,this.txt=s,this.orig=x,this.clean=D,this.revapi=n,this.len=s.length,this.statc=-1!==S.search("rs-layer-static"),e.data(i,"typewriter",this)}function h(e){return e[1].toUpperCase()}function l(e,t){e=e.replace(/<(?!br|span|\/span\s*\/?)[^>]+>/g,"").replace(/(_|\|)$/,""),e=t?e.replace(/\r?\n|\r/g," ").replace(/<br[^>]*>/gi,"\n").replace(/<\/span>/gi,"╣"):e.replace(/\r?\n|\r/g,"±").replace(/<br[^>]*>/gi,"µ").replace(/<\/span>/gi,"╣").replace(/±µ|µ±/g,"µ").replace(/^±+|±+$/g,"").replace(/^µ+|µ+$/g,"");for(var s,r=/<span[^>]*>/g,n=[];s=r.exec(e);)n.push(s[0]);return e=e.replace(r,"╠"),i.innerHTML=e,{value:i.value,spans:n}}function o(e,t,i,s){return e.substr(0,t)+s+e.substr(t+i.length,e.length)}function p(){for(var e,t=s.length;t--;)if((e=s[t])[0]===this){d(e),s=s.splice(t,1);break}}function d(t){for(var i=t.layrs,s=i.length;s--;)e.removeData(i[s].el,"typewriter");for(var r in t)t.hasOwnProperty(r)&&delete t[r]}window.RsTypewriterAddOn=function(e,t){if(t){var i=t.find("rs-layer[data-typewriter], .rs-layer[data-typewriter]");i.length&&new n(e,t,i)}},n.prototype={eventCallback:function(e,t){this[e.namespace.replace(".slide","")](t)},onbeforeswap:function(t){var i,s=this.layrs,r=s.length;if(t=t.currentslide[0])for(;r--;)(i=s[r]).statc||(clearTimeout(i.timer),i.running=!1,i.active=!1,t.contains(i.el)||(i.el.innerHTML=i.orig,e(i.el).addClass("hide-typewriter-cursor")))},layeraction:function(t){if("enterstage"===t.eventtype){var i=e.data(t.layer[0],"typewriter"),s="html"===t.layertype||"text"===t.layertype;i&&s&&(e.fn.revolution.sA(t.layer[0],"vary-layer-dims",!0),i.active=!0,i.start())}},beforeredraw:function(e){for(var t=this.layrs,i=t.length;i--;)t[i].onRedraw()},afterdraw:function(){for(var e=this.layrs,t=e.length;t--;)e[t].onRedraw(!0)},writeLayerData:function(t,i){var s=e.trim(i.innerHTML);s?(i.getAttribute("data-whiteboard")&&("undefined"!=typeof console&&console.log("Whiteboard is disabled for Layers with Typewriter Add-On effect enabled"),i.removeAttribute("data-whiteboard")),this.layrs[this.layrs.length]=new a(i,s,this.levels,this.slider)):i.removeAttribute("data-typewriter")}},a.prototype={start:function(t,i){clearTimeout(this.timer),this.paused||(this.line=0,this.step=0,this.words=0,this.skip=!1,this.rewind=!1,this.rstart=!1,this.breaker=!1,this.paused=!1,this.rpaused=!1,this.str=this.txt[this.line],this.len=this.str.length,i?(this.timer=setTimeout(this.onStart.bind(this),t),this.revapi.trigger("revolution.slide.typewriterlooped",[this.el])):(this.el.innerHTML="&nbsp;",e(this.el).removeClass("hide-typewriter-cursor"),this.timer=setTimeout(this.onStart.bind(this),this.startDelay)),this.running=!0,this.revapi.trigger("revolution.slide.typewriterstarted",[this.el]),this.revapi.trigger("revolution.slide.typewriternewline",[this.el,this.line+1,this.txt[this.line]]))},onStart:function(){this.el.innerHTML="",this.animate()},animate:function(){var t,i,s,r,n=this.str,a=this.txt,h=this.step,l=this.rewind,p=l?this.deletionSpeed:this.speed;if(h<this.len){if(l){n=n.slice(0,-1),this.str=n;for(var d,c=/╠/g,u=[];d=c.exec(n);)u.push(d);if(u){for(var f=u.length-1;f>=0;f--){n=o(n,u[f].index,"╣",this.spans[f])}n=n.replace(/╣/g,"</span>")||"&nbsp"}this.el.innerHTML=n.replace(/µ/g,"<br>")||"&nbsp"}else if(this.breaker?(i="<br>",p=this.skip?this.linebreakDelay:this.newlineDelay,this.breaker=!1,this.skip=!1,this.words=0,this.step--):"µ"===(i=n[h])&&(this.skip=!0,this.breaker=!0,p=this.linebreakDelay),!this.breaker){if("&nbsp;"===(r=this.el.innerHTML)&&(r=""),"╠"===i||"╣"===i||this.incompleteSpan){var y=r.match(/<span[^>]*>/g);y=y?y.length:0,"╠"===i?(this.incompleteSpan=!0,r+=i=this.spans[y]+"</span>"):"╣"===i?this.incompleteSpan=!1:r=o(r,r.lastIndexOf("</span>"),"</span>",i+"</span>")}else r+=i;this.el.innerHTML=r,this.wordDelay&&" "===i&&(s=this.words,(r=this.spaces[s])?(p=r,this.words=s<this.spaces.length-1?s+1:0):this.words+=1)}this.step++,t=!0}else{if(this.rstart)return void(this.paused?(this.rpaused=!0,this.lastSpeed=this.newlineDelay):this.start(this.newlineDelay,!0));this.line<a.length&&(this.line++,this.step=0,this.skip=!1,n=a[this.line],this.str=n,""===n&&(this.line++,this.breaker=!0,p=this.newlineDelay),this.line<a.length?(this.sequenced?((l=!l)?(this.line--,this.str=a[this.line],p=this.deletionDelay):(this.str=a[this.line],this.len=this.str.length,p=this.newlineDelay),this.rewind=l):(this.str=a[this.line],this.len=this.str.length),t=!0,this.words=0,this.rewind||this.revapi.trigger("revolution.slide.typewriternewline",[this.el,this.line+1,a[this.line]])):this.looped&&(this.rewind=!0,this.rstart=!0,this.words=0,this.line--,this.str=a[this.line],t=!0,p=this.deletionDelay))}if(t){if(this.paused)return void(this.lastSpeed=p);p?this.timer=setTimeout(this.animate.bind(this),p):this.animate()}else this.running=!1,this.hideCursor&&e(this.el).addClass("hide-typewriter-cursor"),this.revapi.trigger("revolution.slide.typewriterended",[this.el])},onRedraw:function(e){if(e)this.el.innerHTML=this.state;else{var t=window.getComputedStyle(this.el,":after").getPropertyValue("position");this.state=this.el.innerHTML,this.el.innerHTML="absolute"===t?this.orig:this.clean}},pause:function(){this.active&&(clearTimeout(this.timer),this.paused=!0)},resume:function(){this.active&&(this.running?this.paused&&(this.rpaused?this.start(this.lastSpeed,!0):(this.paused=!1,this.lastSpeed?this.timer=setTimeout(this.animate.bind(this),this.lastSpeed):this.animate())):this.restart())},restart:function(){this.active&&(clearTimeout(this.timer),this.rpaused=!1,this.paused=!1,this.start())},restore:function(t){this.active&&(clearTimeout(this.timer),this.el.innerHTML=this.clean,t&&e(this.el).addClass("hide-typewriter-cursor"))}}}();