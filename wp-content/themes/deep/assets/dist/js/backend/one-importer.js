"use strict";!function(y){y.redux=y.redux||{},y.redux.one_importer=function(){var l=y(".wn-lightbox-wrap"),p=(y(".wn-pagebuilder-wrap"),'<div class="loader"></div>'),m="no",w="no",u="no",h="no",f="no",g="no",b="no",k="no";function x(e){var t=y('.wn-lightbox[data-demo-id="'+e+'"]');t.children("h2").hide(),t.find(".wni-start").hide(),t.children(".wn-suc-imp-title").fadeIn(),t.find(".wn-suc-imp-t100").fadeIn(),t.find(".wn-suc-imp-links").fadeIn(),y(".wsw-menu").find("li.active:last").next().addClass("active"),y(".wsw-btn-step").hide()}y(".wrap-importer.theme.not-imported .wbc-importer-buttons .button, #wbc-importer-reimport").unbind("click").on("click",function(e){e.preventDefault();var t,n,i=y(this),o=i.closest(".wrap-importer"),s=o.data("demo-id"),d=y("#wni-bad-status-message"),r=y('.wn-lightbox[data-demo-id="'+s+'"]'),a=y("#wnInvalidPurchaseCode"),c=r.closest(".wn-lightbox-wrap");0<a.length?(t=a.clone().show(),a.remove(),l.find('.wn-lightbox[data-demo-id="'+s+'"]').children("h2").after(t)):0<d.length&&(n=d.clone().show(),d.remove(),l.find('.wn-lightbox[data-demo-id="'+s+'"]').children("h2").after(n)),l.find('.wn-lightbox[data-demo-id="'+s+'"]').find(".wni-settings").niceScroll({scrollbarid:"wn-lb-content",cursorwidth:"10px",cursorborder:"0",touchbehavior:!0,autohidemode:!1,background:"#e7e7e7",cursorcolor:"#91989e"}),l.find('.wn-lightbox[data-demo-id="'+s+'"]').find(".wni-settings").getNiceScroll().resize(),l.find('.wn-lightbox[data-demo-id="'+s+'"]').show().closest(".wn-lightbox-wrap").show(),y(r).find(".wn-import-demo-btn").click(function(e){e.preventDefault(),i=y(this);var t;0!=confirm("By importing the demo content, items such as pages, posts, images, sliders, theme options, widgets and other configurations will be imported as well. it will take several minutes.\n\n Note: 'Shop' and 'Buddypress' demos will take 15 minutes approximately to be imported.")&&(l.find("i.ti-close").hide(),i.css({opacity:"0.6",cursor:"not-allowed"}),i.text("Demo Is Importing"),r.find("#w-importing").text("Please do not refresh the page until import is complete. The time it takes to import depends on your host configuration and it may take up to 15 minutes, so please be patient."),y(p).appendTo(r.find("#w-importing")),t={action:"importing_demo_content",nonce:OneImporter.nonce,pagebuilder:r.find(".wn-radio-control.checked").text(),demo:r.find("input#demo").val(),pages:m,posts:w,import_sliders:k,import_theme_opts:b,import_widgets:g,import_attachments:f,portfolios:h,contact_forms:u},y.ajax({type:"POST",url:OneImporter.ajax_url,data:t,success:function(e){console.log(e)},error:function(e){console.log(e)}}).done(function(){y(".wn-lb-content.wni-settings").hide(),l.find('.wn-lightbox[data-demo-id="'+s+'"]').find(".wn-suc-imp-content-wrap").show(),o.find(".importer-button:not(#wbc-importer-reimport)").removeClass("button-primary").addClass("button").text("Imported").show(),o.find(".importer-button").attr("style",""),o.addClass("imported active").removeClass("not-imported"),o.find("#wbc-importer-reimport").hide(),c.find("i.ti-close").show(),x(s)}))})}),y(".wn-setup-wizard").find(".wn-import-demo-btn").click(function(e){e.preventDefault();var t,n,i,o,s,d,r,a,c;0!=confirm("By importing the demo content, items such as pages, posts, images, sliders, theme options, widgets and other configurations will be imported as well. it will take several minutes.\n\n Note: 'Shop' and 'Buddypress' demos will take 15 minutes approximately to be imported.")&&(t=y(this).closest(".wn-lightbox"),n=t.data("demo-id"),i=y('.wn-lightbox-wrap[data-demo-id="'+n+'"]').find(".wn-radio-control.checked").text(),y(".wsw-btn-step").hide(),y(p).appendTo(".wsw-contents"),o=y('.wn-lightbox[data-demo-id="'+n+'"]'),s=o.closest(".wn-lightbox-wrap"),d=o.find(".wni-settings"),r=o.find(".wn-suc-imp-content-wrap"),o.find(".wni-start"),a=s.find(".nicescroll-rails"),s.find("i.ti-close").hide(),d.hide(),a.hide(),r.fadeIn(),r.find(".wn-suc-imp-t100").hide().end().find(".wn-suc-imp-links").hide(),c={action:"importing_demo_content",nonce:OneImporter.nonce,pagebuilder:i,demo:l.find('.wn-lightbox[data-demo-id="'+n+'"]').find(".wn-suc-imp-title").text(),pages:m,posts:w,import_sliders:k,import_theme_opts:b,import_widgets:g,import_attachments:f,portfolios:h,contact_forms:u},y.ajax({type:"POST",url:OneImporter.ajax_url,data:c,success:function(e){console.log(e)},error:function(e){console.log(e)}}).done(function(){y(".loader").hide(),y(".wn-lb-content.wni-settings").hide(),l.find('.wn-lightbox-wrap[data-demo-id="'+n+'"]').find(".wn-suc-imp-content-wrap").show(),t.find(".importer-button:not(#wbc-importer-reimport)").removeClass("button-primary").addClass("button").text("Imported").show(),t.find(".importer-button").attr("style",""),t.addClass("imported active").removeClass("not-imported"),t.find("#wbc-importer-reimport").hide(),x(n)}))}),y(document).on("click",".import-risk-btn",function(e){e.preventDefault(),y("#wni-bad-status-message").fadeOut()}),l.find("i.ti-close").on("click",function(e){e.preventDefault(),l.hide(),y(".wni-settings").getNiceScroll().remove(),location.reload()}),y(".wn-pagebuilder-wrap").find("label").on("click",function(e){e.preventDefault();var t=y(this),n=t.find("input"),i=t.find(".wn-radio-indicator");t.closest(".wn-pagebuilder-wrap").find(".wn-radio-control").removeClass("checked").end().find("input").removeAttr("checked").end().find(".wn-radio-indicator").removeClass("checked"),t.addClass("checked"),n.attr("checked","checked"),i.addClass("checked"),"visualcomposer"==n.val()?(y('.wn-plugin[data-plugin-name="Elementor"]').hide(),y('.wn-plugin[data-plugin-name="WPBakery Page Builder"]').show()):"elementor"==n.val()&&(y('.wn-plugin[data-plugin-name="WPBakery Page Builder"]').hide(),y('.wn-plugin[data-plugin-name="Elementor"]').show())}),y('.wn-plugin[data-plugin-name="WPBakery Page Builder"]').hide(),y('.wn-plugin[data-plugin-name="Elementor"]').show(),y(".wn-import-content-wrap").find("label").on("click",function(){var e=y(this),t=e.attr("for").replace(/\d+/g,""),n=y(this).siblings("input"),i=e.closest(".wn-checkbox-wrap").siblings(".wn-checkbox-wrap").find("input"),o=e.closest(".wn-checkbox-wrap").siblings(".wn-checkbox-wrap.wn-all-contents").find("input");n.is(":checked")?"all"==t?(m=w=u=h=f=k=b=g="no",i.attr("checked",!1)):(o.attr("checked",!1),"pages"==t?m="no":"posts"==t?w="no":"contact_forms"==t?u="no":"portfolios"==t?h="no":"images"==t?f="no":"widgets"==t?g="no":"themeoptions"==t?b="no":"sliders"==t&&(k="no")):"all"==t?(m=w=u=h=f=k=b=g="yes",i.attr("checked",!0)):(1<i.not(":checked").length?o.attr("checked",!1):o.attr("checked",!0),"pages"==t?m="yes":"posts"==t?w="yes":"contact_forms"==t?u="yes":"portfolios"==t?h="yes":"images"==t?f="yes":"widgets"==t?g="yes":"themeoptions"==t?b="yes":"sliders"==t&&(k="yes")),"yes"==m||"yes"==w||"yes"==u||"yes"==h||"yes"==f||"yes"==k||"yes"==b||"yes"==g?e.closest(".wn-lb-content").find(".wn-import-demo-btn").css({opacity:"1",cursor:"pointer"}):e.closest(".wn-lb-content").find(".wn-import-demo-btn").css({opacity:"0.6",cursor:"not-allowed"})})},y(document).ready(function(){y.redux.one_importer()})}(jQuery);