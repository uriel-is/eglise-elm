{"version":3,"sources":["whb-editor.js"],"names":["window","onload","document","body","style","display","$","on","$currentElement","$currentModalEdit","currentCell","currentRow","currentPanel","$clipboardElem","elemUniqueID","$body","$wrap","$sortablePlaces","find","$desktopSortablePlaces","components","Array","isArray","whb_localize","editorComponents","editor_components","frontendComponents","platforms","desktop-view","tablets-view","mobiles-view","importButtonFlag","console","log","JSON","str","parse","e","whbIsFrontendBuilder","hasClass","key","whbDebug","hasOwnProperty","element","search","slice","each","$logo","wp","media","attachment","logo","fetch","done","children","hide","after","this","attributes","url","$panels","$settings","$headerSwitcher","docHeight","height","whbElementSettings","new_el","arguments","length","undefined","elemName","attr","$tabPanels","elemID","fieldName","data","prepend","fieldStd","ajax","type","$fieldInput","el_name","nonce","success","remove","uniqueId","removeClass","hidden_element","editor_icon","elemEditorIcon","show","$modalWrap","currentElemHtml","name","val","whbFieldDependency","push","dependencyData","i","haveDependency","$elem","platform_key","event","preventDefault","$this","$imgIdInput","$imgContainer","$delImgLink","removeAttr","$inputNumber","frame","$option","state","get","first","toJSON","$customSelect","css","addClass","id","open","$iconClass","$icon","html","$numberUnit","unit","num_val","value","closest","valueUnit","numberValue","$iconsWrap","wpColorPicker","connectWith","placeholder","forcePlaceholderSize","tolerance","start","elemFromCell","siblings","parseFloat","split","beforeStop","start_cell_obj","destroyed","always","whbEditorDraggable","whbModalDraggable","getElementsByClassName","onmousedown","$parent","parentValue","$addImgLink","els","$el","elem_value","elems","multiple","trigger","outerHTML","replaceWith","pos1","pos2","pos3","pos4","$actions","clientX","$editor","whbCloseModalDraggable","whbElementDrag","clientY","top","offsetTop","left","offsetLeft","onmouseup","onmousemove","whb_drag_mouse_down","whbInjectScriptToIframe","src","scripts","getElementsByTagName","myScript","iframeHead","appendChild","whbSaveAllData","$WHBFrontend","cell_key","screen_key","component_key","Object","assign","box-shadow","border-color","cell","action","stringify","$newWHBFrontend","path","background-color","el","ajaxurl","styles","frames","getElementById","innerHTML","contents","assets_url","content","extend","rowKey","whb_data_components","alert","String","_step","_iterator","_createForOfIteratorHelper","s","n","$modal","dataType","whbImport","err","f","header_type","obj","desktopRow1Settings","sortable","axis","whb_data_editor_components","whb_data_frontend_components","parent","$currentTab","$tabs","end","$tabUl","fadeIn","modalTarget","uniqueID","valueOf","editorIcon","controlsHtml","clone","newElem","data-unique-id","data-hidden_element","append","text","findInCell","confirm","panel","toString","whbCreateFrontendComponents","row","mustBeHidden","$row","fieldValue","replace","imageID","$currentElements","textValue","indexOf","ui","item","$els_place","splice","map","createElement","res","location","reload","change","file","target","files","reader","FileReader","onReaderLoad","fileName","$select","row1","settings","niceSelect","language","href","jQuery"],"mappings":"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","file":"whb-editor.js","sourcesContent":["\"use strict\";\n\n// window.onbeforeunload = function () {\n// \treturn \"There are unsaved changes. Leave now?\";\n// };\n\nwindow.onload = function () {\n\tdocument.body.style.display = \"block\";\n};\n\n(function ($) {\n\t$(document).ready(function () {\n\t\t$(window).on('load', function () {\n\n\t\t\t/**\n\t\t\t * Header Builder - Global Variables\n\t\t\t * @author\tWEBNUS\n\t\t\t * @version\t1.0.0\n\t\t\t */\n\t\t\t// DOM variables\n\t\t\tvar $body = $('body');\n\t\t\tvar $wrap = $('#wn-header-builder');\n\t\t\tvar $sortablePlaces = $wrap.find('.whb-elements-place');\n\t\t\tvar $desktopSortablePlaces = $wrap.find('.whb-desktop-panel').find('.whb-columns[data-columns=\"row1\"]').find('.whb-elements-place');\n\t\t\tvar $currentElement;\n\t\t\tvar $currentModalEdit;\n\n\t\t\t// Data variables\n\t\t\tvar components = whb_localize.components && !Array.isArray(whb_localize.components) ? whb_localize.components : {};\n\t\t\tvar editorComponents = whb_localize.editor_components ? whb_localize.editor_components : {};\n\t\t\tvar frontendComponents = whb_localize.frontend_components ? whb_localize.frontend_components : {};\n\t\t\tconst platforms = {\n\t\t\t\t\"desktop-view\": {},\n\t\t\t\t\"tablets-view\": {},\n\t\t\t\t\"mobiles-view\": {},\n\t\t\t};\n\n\t\t\t// Position variables\n\t\t\tvar currentCell;\n\t\t\tvar currentRow;\n\t\t\tvar currentPanel;\n\n\t\t\t// Import button flag\n\t\t\tvar importButtonFlag = false;\n\n\t\t\t// Clipboard element\n\t\t\tvar $clipboardElem;\n\n\n\t\t\t/**\n\t\t\t * Header Builder - Helper Functions\n\t\t\t * @author\tWEBNUS\n\t\t\t * @version\t1.0.0\n\t\t\t */\n\t\t\tfunction whbDebug() {\n\t\t\t\tconsole.log('%c Components:', 'font-size: 18px; background: #EC9787; color: #fff;', components);\n\t\t\t\tconsole.log('%c Editor Components:', 'font-size: 18px; background: #6F9FD8; color: #fff;', editorComponents);\n\t\t\t\tconsole.log('%c Frontend Components:', 'font-size: 18px; background: #ECDB54; color: #fff;', frontendComponents);\n\t\t\t}\n\t\t\twhbDebug();\n\n\t\t\t// check string is json\n\t\t\tfunction whbIsJson(str) {\n\t\t\t\ttry {\n\t\t\t\t\tJSON.parse(str);\n\t\t\t\t} catch (e) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\tfunction whbIsObject(obj) {\n\t\t\t\treturn obj === Object(obj);\n\t\t\t}\n\n\t\t\t// Check for emptiness object\n\t\t\tfunction whbIsEmptyObj(obj) {\n\t\t\t\tfor (var key in obj) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\tfunction whbIsFrontendBuilder() {\n\t\t\t\tif ($body.hasClass('whb-frontend-builder-wrap')) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t\treturn false;\n\t\t\t}\n\n\n\t\t\t/**\n\t\t\t * Header Builder - Editor Preview\n\t\t\t * @author\tWEBNUS\n\t\t\t * @version\t1.0.0\n\t\t\t */\n\t\t\tfor (var key in components) {\n\t\t\t\tif (components.hasOwnProperty(key)) {\n\t\t\t\t\tconst element = components[key];\n\t\t\t\t\tif (key.search('logo') != -1) {\n\t\t\t\t\t\tvar elemUniqueID = key.slice('5');\n\t\t\t\t\t\t$wrap.find('.whb-elements-item[data-element=\"logo\"][data-unique-id=\"' + elemUniqueID + '\"]').each(function () {\n\t\t\t\t\t\t\tvar $logo = $(this);\n\t\t\t\t\t\t\twp.media.attachment(element.logo).fetch().done(function () {\n\t\t\t\t\t\t\t\t$logo.children('a').hide().after('<img class=\"whb-img-placeholder-el\" src=\"' + this.attributes.url + '\" alt=\"\">');\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\n\t\t\t/**\n\t\t\t * Header Builder - Frontend Builder Iframe Height\n\t\t\t * @author\tWEBNUS\n\t\t\t * @version\t1.0.0\n\t\t\t */\n\t\t\tvar docHeight = $(document).height();\n\t\t\t$('#whbIframe').css('height', docHeight);\n\t\t\t$('#whbIframe').contents().find('a').on('click', function () {\n\t\t\t\treturn false;\n\t\t\t});\n\n\t\t\t/**\n\t\t\t * Header Builder - Nice Scroll\n\t\t\t * @author\tWEBNUS\n\t\t\t * @version\t1.0.0\n\t\t\t */\n\t\t\t// $('.whb-frontend-builder').niceScroll({\n\t\t\t// \tcursorborder: \"0\",\n\t\t\t// \tbackground: \"#e7e7e7\",\n\t\t\t// \tcursorcolor: \"#91989e\",\n\t\t\t// });\n\n\n\t\t\t/**\n\t\t\t * Header Builder - Tab\n\t\t\t * @author\tWEBNUS\n\t\t\t * @version\t1.0.0\n\t\t\t * @event\tClick\n\t\t\t */\n\t\t\t$wrap.find('.whb-tab-panel' + $wrap.find('.whb-tabs-list').find('li.w-active').find('a').attr('href')).show();\n\t\t\t$wrap.on('click', '.whb-tabs-list a', function (event) {\n\t\t\t\tevent.preventDefault();\n\n\t\t\t\tvar $this = $(this);\n\t\t\t\tvar $currentTab = $this.parent();\n\t\t\t\tvar $tabs = $this.closest('ul').find('li');\n\t\t\t\tvar $tabUl = $this.closest('ul');\n\n\t\t\t\tif (!$currentTab.hasClass('w-active')) {\n\t\t\t\t\t// active current navigation\n\t\t\t\t\t$tabs.removeClass('w-active');\n\t\t\t\t\t$currentTab.addClass('w-active');\n\n\t\t\t\t\t// show panel\n\t\t\t\t\tif ($tabUl.hasClass('whb-element-groups')) {\n\t\t\t\t\t\t$wrap.find('.whb-group-panel').hide().end().find('.whb-group-panel[data-id=\"' + $this.attr('href') + '\"]').show();\n\t\t\t\t\t} else if ($tabUl.hasClass('whb-styling-groups')) {\n\t\t\t\t\t\t$tabUl.siblings('.whb-styling-group-panel').hide().end().siblings('.whb-styling-group-panel[data-id=\"' + $this.attr('href') + '\"]').show();\n\t\t\t\t\t} else if ($tabUl.hasClass('whb-styling-screens')) {\n\t\t\t\t\t\t$wrap.find('.whb-styling-screen-panel').hide().end().find('.whb-styling-screen-panel[data-id=\"' + $this.attr('href') + '\"]').show();\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$wrap.find('.whb-tab-panel:not(.whb-group-panel)').hide().end().find('.whb-tab-panel' + $this.attr('href')).fadeIn(300);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t// Toggle device\n\t\t\t$('#whb-desktop-tab, #whb-sticky-tab').on('click', function (e) {\n\t\t\t\te.preventDefault();\n\t\t\t\t$body.removeClass('whb-tablets-device whb-mobiles-device');\n\t\t\t\t$('.whb-screen-view').hide();\n\t\t\t\t$('.whb-desktop-view, .whb-sticky-view').show();\n\t\t\t});\n\n\t\t\t$('#whb-tablets-tab').on('click', function (e) {\n\t\t\t\te.preventDefault();\n\t\t\t\t$body.removeClass('whb-mobiles-device');\n\t\t\t\t$body.addClass('whb-tablets-device');\n\t\t\t\t$('.whb-screen-view').hide();\n\t\t\t\t$('.whb-tablets-view').show();\n\t\t\t});\n\n\t\t\t$('#whb-mobiles-tab').on('click', function (e) {\n\t\t\t\te.preventDefault();\n\t\t\t\t$body.removeClass('whb-tablets-device');\n\t\t\t\t$body.addClass('whb-mobiles-device');\n\t\t\t\t$('.whb-screen-view').hide();\n\t\t\t\t$('.whb-mobiles-view').show();\n\t\t\t});\n\n\n\t\t\t/**\n\t\t\t * Header Builder - Full Modal\n\t\t\t * @author\tWEBNUS\n\t\t\t * @version\t1.0.0\n\t\t\t * @event\tClick\n\t\t\t */\n\t\t\t// Show full modal\n\t\t\t$wrap.find('.whb-full-modal-btn').on('click', function (event) {\n\t\t\t\tevent.preventDefault();\n\n\t\t\t\tvar $this = $(this);\n\t\t\t\tvar modalTarget = $this.data('modal-target');\n\t\t\t\tvar $modal = $wrap.find('.whb-full-modal[data-modal=\"' + modalTarget + '\"]');\n\n\t\t\t\t$body.css('overflow', 'hidden');\n\t\t\t\t$modal.find('textarea').val(' ');\n\t\t\t\t$modal.fadeIn(200);\n\t\t\t});\n\t\t\t// Hide full modal\n\t\t\t$wrap.find('.whb-full-modal-close').on('click', function (event) {\n\t\t\t\tevent.preventDefault();\n\n\t\t\t\t$body.css('overflow', 'initial');\n\t\t\t\t$wrap.find('.whb-full-modal').hide();\n\t\t\t});\n\n\t\t\t$wrap.find('.whb-full-modal').on('click', function (event) {\n\t\t\t\tevent.preventDefault();\n\n\t\t\t\t$body.css('overflow', 'initial');\n\t\t\t\t$wrap.find('.whb-full-modal').hide();\n\t\t\t});\n\n\t\t\t/**\n\t\t\t * Header Builder - Add Element Button\n\t\t\t * @author\tWEBNUS\n\t\t\t * @version\t1.0.0\n\t\t\t * @event\tClick\n\t\t\t */\n\t\t\t// Show add element modal\n\t\t\t$wrap.on('click', '.w-add-element', function (event) {\n\t\t\t\tevent.preventDefault();\n\n\t\t\t\tvar $this = $(this);\n\n\t\t\t\t$wrap.find('.whb-elements').show();\n\t\t\t\tcurrentPanel = $this.closest('.whb-tab-panel').attr('id'); // desktop-view, tablets-view, mobiles-view, sticky-view\n\t\t\t\tcurrentRow = $this.closest('.whb-columns').attr('data-columns'); // topbar, row1, row2, row3\n\t\t\t\tcurrentCell = $this.attr('data-align-col'); // left, center, right\n\t\t\t});\n\t\t\t// Hide add element modal\n\t\t\t$wrap.on('click', '.whb-modal-header i, .whb_close', function (event) {\n\t\t\t\tevent.preventDefault();\n\n\t\t\t\t$wrap.find('.whb-modal-wrap').hide();\n\t\t\t\t$wrap.find('.whb-modal-wrap[data-element-target]').remove();\n\t\t\t});\n\t\t\t// Append new element to editor\n\t\t\t$wrap.find('.whb-modal-wrap').on('click', '.whb-elements-item a', function (event) {\n\t\t\t\tevent.preventDefault();\n\n\t\t\t\tvar $this = $(this);\n\t\t\t\tvar uniqueID = new Date().valueOf();\n\t\t\t\tvar editorIcon = $(this).find('i').attr('class');\n\t\t\t\tvar controlsHtml = `<span class=\"whb-controls\">\n\t\t\t\t\t\t\t\t\t\t<span class=\"whb-tooltip tooltip-on-top\" data-tooltip=\"Copy to Clipboard\">\n\t\t\t\t\t\t\t\t\t\t\t<i class=\"whb-control whb-copy-btn ti-files\"></i>\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t<span class=\"whb-tooltip tooltip-on-top\" data-tooltip=\"Settings\">\n\t\t\t\t\t\t\t\t\t\t\t<i class=\"whb-control whb-edit-btn sl-pencil\"></i>\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t<span class=\"whb-tooltip tooltip-on-top\" data-tooltip=\"Hide\">\n\t\t\t\t\t\t\t\t\t\t\t<i class=\"whb-control whb-hide-btn ti-eye\"></i>\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t<span class=\"whb-tooltip tooltip-on-top\" data-tooltip=\"Remove\">\n\t\t\t\t\t\t\t\t\t\t\t<i class=\"whb-control whb-delete-btn ti-close\"></i>\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t</span>`;\n\n\t\t\t\tif ($this.closest('.whb-elements-item').hasClass('whb-clipboard-item')) {\n\t\t\t\t\tvar $elem = $this.parent();\n\t\t\t\t\tvar elemName = $elem.data('element');\n\t\t\t\t\tvar elemUniqueID = $elem.data('unique-id').toString();\n\t\t\t\t\tvar elemID = elemName + '_' + elemUniqueID;\n\t\t\t\t\tvar newElem = elemName + '_' + uniqueID;\n\n\t\t\t\t\tfor (const key in components) {\n\t\t\t\t\t\tif (components.hasOwnProperty(key)) {\n\t\t\t\t\t\t\tconst element = $.extend(true, {}, components[key]);\n\t\t\t\t\t\t\tif (elemID == key) {\n\t\t\t\t\t\t\t\tcomponents[newElem] = element;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t$currentElement = $clipboardElem.clone().removeClass('w-col-sm-4').attr({\n\t\t\t\t\t\t'data-unique-id': uniqueID\n\t\t\t\t\t}).prepend(controlsHtml);\n\t\t\t\t} else {\n\t\t\t\t\t$currentElement = $this.parent().clone().removeClass('w-col-sm-4').attr({\n\t\t\t\t\t\t'data-unique-id': uniqueID,\n\t\t\t\t\t\t'data-hidden_element': false,\n\t\t\t\t\t\t'data-editor_icon': editorIcon\n\t\t\t\t\t}).prepend(controlsHtml);\n\t\t\t\t}\n\n\t\t\t\t$wrap.find('.whb-columns[data-columns=\"' + currentRow + '\"]').find('.whb-col.col-' + currentCell).find('.whb-elements-place').append($currentElement);\n\t\t\t\t$wrap.find('.whb-modal-wrap').hide();\n\t\t\t\twhbElementSettings($currentElement, currentPanel, true);\n\t\t\t});\n\n\n\t\t\t/**\n\t\t\t * Header Builder - Copy Button\n\t\t\t * @author\tWEBNUS\n\t\t\t * @version\t1.0.0\n\t\t\t * @event\tClick\n\t\t\t */\n\t\t\t$wrap.on('click', '.whb-copy-btn', function (event) {\n\t\t\t\tevent.preventDefault();\n\n\t\t\t\tvar $elem = $(this).closest('.whb-elements-item').clone();\n\n\t\t\t\t$clipboardElem = $elem.clone();\n\n\t\t\t\t// Remove all clipboard item\n\t\t\t\t$('.whb-clipboard-item').remove();\n\n\t\t\t\t// Create new clipboard item\n\t\t\t\t$elem.removeClass('ui-sortable-handle').addClass('w-col-sm-4 whb-clipboard-item');\n\t\t\t\t$elem.children('.whb-controls').remove().end().children('img').remove();\n\t\t\t\t$elem.children('a').css({\n\t\t\t\t\t'display': 'block',\n\t\t\t\t\t'background-color': '#e3e3e3'\n\t\t\t\t});\n\t\t\t\t$elem.find('i').removeClass('ti-control-record').addClass('ti-clipboard').css('color', '#f60');\n\t\t\t\t$elem.find('.whb-element-name').text('Paste (Clipboard)');\n\n\t\t\t\t// Append clipboard item to elements box\n\t\t\t\t$('.whb-modal-wrap.whb-elements').find('.whb-modal-contents').prepend($elem);\n\t\t\t});\n\n\n\t\t\t/**\n\t\t\t * Header Builder - Delete Button\n\t\t\t * @author\tWEBNUS\n\t\t\t * @version\t1.0.0\n\t\t\t * @event\tClick\n\t\t\t */\n\t\t\t$wrap.on('click', '.whb-delete-btn', function (event) {\n\t\t\t\tevent.preventDefault();\n\n\t\t\t\tif (confirm('Press OK to delete element, Cancel to leave')) {\n\t\t\t\t\tvar $elem = $(this).closest('.whb-elements-item');\n\t\t\t\t\tvar elemName = $elem.data('element');\n\t\t\t\t\tvar elemUniqueID = $elem.data('unique-id').toString();\n\t\t\t\t\tvar elemID = elemName + '_' + elemUniqueID;\n\n\t\t\t\t\tcurrentPanel = $elem.closest('.whb-tab-panel').attr('id'); // desktop-view, tablets-view, mobiles-view, sticky-view\n\t\t\t\t\tcurrentRow = $elem.closest('.whb-columns').attr('data-columns'); // topbar, row1, row2, row3\n\t\t\t\t\tcurrentCell = $elem.closest('.whb-col').attr('data-align-col'); // left, center, right\n\n\t\t\t\t\t// delete from components\n\t\t\t\t\tdelete components[elemID];\n\n\t\t\t\t\t// delete from editor components\n\t\t\t\t\tif (currentPanel == 'sticky-view') {\n\t\t\t\t\t\tvar cell = editorComponents[currentPanel][currentRow][currentCell];\n\n\t\t\t\t\t\tfor (var i = 0; i < cell.length; i++) {\n\t\t\t\t\t\t\tif (cell[i].uniqueId == elemUniqueID) {\n\t\t\t\t\t\t\t\tcell.splice(i, 1);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tfor (var platform_key in platforms) {\n\t\t\t\t\t\t\tvar findInCell = false;\n\t\t\t\t\t\t\tvar panel = editorComponents[platform_key];\n\n\t\t\t\t\t\t\t(function () {\n\t\t\t\t\t\t\t\tfor (var rowKey in panel) {\n\t\t\t\t\t\t\t\t\tvar row = panel[rowKey];\n\n\t\t\t\t\t\t\t\t\tfor (var cell_key in row) {\n\t\t\t\t\t\t\t\t\t\tvar cell = row[cell_key];\n\n\t\t\t\t\t\t\t\t\t\tfor (var i = 0; i < cell.length; i++) {\n\t\t\t\t\t\t\t\t\t\t\tif (cell[i].uniqueId == elemUniqueID) {\n\t\t\t\t\t\t\t\t\t\t\t\tcell.splice(i, 1);\n\t\t\t\t\t\t\t\t\t\t\t\treturn; // return to anonymous function\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t})();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\twhbCreateFrontendComponents();\n\t\t\t\t\twhbSaveAllData();\n\t\t\t\t\twhbDebug();\n\n\t\t\t\t\t$wrap.find('.whb-elements-item[data-element=\"' + elemName + '\"][data-unique-id=\"' + elemUniqueID + '\"]').remove();\n\t\t\t\t}\n\t\t\t});\n\n\n\t\t\t/**\n\t\t\t * Header Builder - Edit Button\n\t\t\t * \n\t\t\t * @author\tWEBNUS\n\t\t\t * @version\t1.0.0\n\t\t\t * @event\tClick\n\t\t\t */\n\t\t\t$wrap.on('click', '.whb-edit-btn', function (event) {\n\t\t\t\tevent.preventDefault();\n\n\t\t\t\tvar $this = $(this);\n\n\t\t\t\t$wrap.find('.whb-modal-wrap').hide();\n\t\t\t\t$wrap.find('.whb-modal-wrap[data-element-target]').remove();\n\t\t\t\t$currentElement = $this.closest('.whb-elements-item');\n\t\t\t\tcurrentPanel = $this.closest('.whb-tab-panel').attr('id');\n\t\t\t\twhbElementSettings($currentElement, currentPanel);\n\t\t\t});\n\n\n\t\t\t/**\n\t\t\t * Header Builder - Hidden Button\n\t\t\t * @author\tWEBNUS\n\t\t\t * @version\t1.0.0\n\t\t\t * @event\tClick\n\t\t\t */\n\t\t\t// row\n\t\t\t$wrap\n\t\t\t\t.find('.whb-tabs-panels').find('.whb-columns')\n\t\t\t\t.children('.whb-elements-item[data-hidden_element=\"true\"]')\n\t\t\t\t.find('i.whb-hide-btn').removeClass('ti-eye').addClass('wn-far wn-fa-eye-slash')\n\t\t\t\t.closest('.whb-columns').addClass('whb-columns-hidden').css('opacity', '0.45');\n\n\t\t\t// elements\n\t\t\t$wrap\n\t\t\t\t.find('.whb-elements-place').find('.whb-elements-item[data-hidden_element=\"true\"]')\n\t\t\t\t.find('i.whb-hide-btn').removeClass('ti-eye').addClass('wn-far wn-fa-eye-slash');\n\n\t\t\t$wrap.on('click', '.whb-hide-btn', function (event) {\n\t\t\t\tevent.preventDefault();\n\n\t\t\t\t// Get variables\n\t\t\t\tvar $this = $(this);\n\t\t\t\tvar $elem = $this.closest('.whb-elements-item');\n\t\t\t\tvar elemName = $elem.data('element');\n\t\t\t\tvar elemUniqueID = $elem.data('unique-id').toString();\n\t\t\t\tvar elemID = elemName + '_' + elemUniqueID;\n\t\t\t\tvar hidden_element;\n\t\t\t\tvar mustBeHidden;\n\n\t\t\t\t// Position of the Current Element\n\t\t\t\tcurrentPanel = $elem.closest('.whb-tab-panel').attr('id'); // desktop-view, tablets-view, mobiles-view, sticky-view\n\t\t\t\tcurrentRow = $elem.closest('.whb-columns').attr('data-columns'); // topbar, row1, row2, row3\n\t\t\t\tcurrentCell = $elem.closest('.whb-col').attr('data-align-col'); // left, center, right\n\n\t\t\t\tif (elemName == 'header-area' || elemName == 'sticky-area') {\n\t\t\t\t\t// Toggle hidden_element value : ( true | false )\n\t\t\t\t\tvar hidden_element = editorComponents[currentPanel][currentRow]['settings']['hidden_element'];\n\t\t\t\t\teditorComponents[currentPanel][currentRow]['settings']['hidden_element'] = !hidden_element;\n\t\t\t\t\tmustBeHidden = !hidden_element;\n\t\t\t\t\t$elem.attr('data-hidden_element', !hidden_element).data('hidden_element', !hidden_element);\n\n\t\t\t\t\t// Change row opacity and eye icon\n\t\t\t\t\tvar $row = $elem.closest('.whb-columns');\n\t\t\t\t\tif (mustBeHidden) {\n\t\t\t\t\t\t$this.removeClass('ti-eye').addClass('wn-far wn-fa-eye-slash');\n\t\t\t\t\t\t$row.addClass('whb-columns-hidden').css('opacity', '0.45');\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$this.removeClass('wn-far wn-fa-eye-slash').addClass('ti-eye');\n\t\t\t\t\t\t$row.removeClass('whb-columns-hidden').css('opacity', '1');\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t// Toggle hidden_element value : ( true | false )\n\t\t\t\t\tconst cell = editorComponents[currentPanel][currentRow][currentCell];\n\t\t\t\t\tfor (var i = 0; i < cell.length; i++) {\n\t\t\t\t\t\tvar element = cell[i];\n\t\t\t\t\t\tif (element.uniqueId == elemUniqueID) {\n\n\t\t\t\t\t\t\telement.hidden_element = !element.hidden_element;\n\t\t\t\t\t\t\tmustBeHidden = element.hidden_element;\n\t\t\t\t\t\t\t$elem.attr('data-hidden_element', element.hidden_element).data('hidden_element', element.hidden_element);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// Change row opacity and eye icon\n\t\t\t\t\tif (mustBeHidden) {\n\t\t\t\t\t\t$this.removeClass('ti-eye').addClass('wn-far wn-fa-eye-slash');\n\t\t\t\t\t\t$elem.find('a').css('color', '#888');\n\t\t\t\t\t\t$elem.addClass('whb-columns-hidden').css('opacity', '0.45');\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$this.removeClass('wn-far wn-fa-eye-slash').addClass('ti-eye');\n\t\t\t\t\t\t$elem.find('a').css('color', '#0073aa');\n\t\t\t\t\t\t$elem.removeClass('whb-columns-hidden').css('opacity', '1');\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\twhbCreateFrontendComponents();\n\t\t\t\twhbSaveAllData();\n\t\t\t\twhbDebug();\n\t\t\t});\n\n\n\t\t\t/**\n\t\t\t * Header Builder - Save Button\n\t\t\t * @author\tWEBNUS\n\t\t\t * @version\t1.0.0\n\t\t\t * @event\tClick\n\t\t\t */\n\t\t\t$wrap.on('click', '.whb_save', function (event) {\n\t\t\t\tevent.preventDefault();\n\n\t\t\t\tvar $save_btn = $(this);\n\t\t\t\tvar elemName = $currentElement.data('element');\n\t\t\t\tvar elemUniqueID = $currentElement.data('unique-id');\n\t\t\t\tvar elemID = elemName + '_' + elemUniqueID;\n\n\t\t\t\t// Set field value\n\t\t\t\t$currentModalEdit.find('.whb-field').each(function () {\n\t\t\t\t\tvar $this = $(this);\n\t\t\t\t\tvar $fieldInput = $this.find('.whb-field-input');\n\t\t\t\t\tvar fieldName = $fieldInput.data('field-name');\n\t\t\t\t\tvar fieldValue = $fieldInput.val();\n\n\t\t\t\t\tif (fieldValue == '') {\n\t\t\t\t\t\tif (components[elemID].hasOwnProperty(fieldName)) {\n\t\t\t\t\t\t\tcomponents[elemID][fieldName] = fieldValue;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (fieldValue != undefined) {\n\t\t\t\t\t\t\tif (typeof fieldValue == 'string' && fieldValue.indexOf('\"') != -1) {\n\t\t\t\t\t\t\t\tfieldValue = fieldValue.replace(/\"/g, \"'\");\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tcomponents[elemID][fieldName] = fieldValue;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\twhbCreateFrontendComponents();\n\t\t\t\twhbSaveAllData();\n\t\t\t\twhbDebug();\n\n\t\t\t\t// Copy element in all platforms\n\t\t\t\tvar currentElemHtml = $currentElement[0].outerHTML;\n\t\t\t\tvar $currentElements = $wrap.find('.whb-elements-item[data-element=\"' + elemName + '\"][data-unique-id=\"' + elemUniqueID + '\"]');\n\t\t\t\t$currentElements.each(function () {\n\t\t\t\t\t$(this).replaceWith(currentElemHtml);\n\t\t\t\t});\n\n\t\t\t\t// Create preview for text and image field in editor\n\t\t\t\t$currentElements = $wrap.find('.whb-elements-item[data-element=\"' + elemName + '\"][data-unique-id=\"' + elemUniqueID + '\"]');\n\t\t\t\t$currentModalEdit.find('.whb-field.whb-placeholder').each(function () {\n\t\t\t\t\tvar $this = $(this);\n\n\t\t\t\t\tif ($this.hasClass('whb-img-placeholder')) {\n\t\t\t\t\t\tvar imageID = $this.find('.whb-field-input').val();\n\n\t\t\t\t\t\tif (imageID) {\n\t\t\t\t\t\t\twp.media.attachment(imageID).fetch().done(function () {\n\t\t\t\t\t\t\t\tif (!$currentElements.children('.whb-img-placeholder-el').length > 0) {\n\t\t\t\t\t\t\t\t\t$currentElements.attr('data-img-placeholder', imageID).children('a').hide().after('<img class=\"whb-img-placeholder-el\" src=\"' + this.attributes.url + '\" alt=\"\" />');\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t$currentElements.children('.whb-img-placeholder-el').attr('src', this.attributes.url);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t$currentElements.removeAttr('data-img-placeholder').children('a').show().end().children('.whb-img-placeholder-el').remove();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif ($this.hasClass('whb-text-placeholder')) {\n\t\t\t\t\t\tvar textValue = $this.find('.whb-field-input').val();\n\n\t\t\t\t\t\tif (textValue.trim()) {\n\t\t\t\t\t\t\tif (!$currentElements.find('a').find('.whb-text-placeholder-el').length > 0) {\n\t\t\t\t\t\t\t\t$currentElements.find('a').find('.whb-element-name').hide().after('<span class=\"whb-text-placeholder-el\">' + textValue + '</span>');\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t$currentElements.find('a').find('.whb-text-placeholder-el').html(textValue);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t$currentElements.find('a').find('span.whb-element-name').show().end().end().find('.whb-text-placeholder-el').remove();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\t// Hide modal\n\t\t\t\tif (!whbIsFrontendBuilder()) {\n\t\t\t\t\t$wrap.find('.whb-modal-wrap').hide();\n\t\t\t\t\t$wrap.find('.whb-modal-wrap[data-element-target]').remove();\n\t\t\t\t}\n\t\t\t});\n\n\n\t\t\t/**\n\t\t\t * Header Builder - Element Settings Function\n\t\t\t * @author\tWEBNUS\n\t\t\t * @version\t1.0.0\n\t\t\t */\n\t\t\tfunction whbElementSettings($currentElement, currentPanel, new_el = false) {\n\t\t\t\tvar elemName = $currentElement.attr('data-element');\n\t\t\t\tvar elemUniqueID = $currentElement.attr('data-unique-id');\n\t\t\t\tvar elemID = elemName + '_' + elemUniqueID;\n\n\t\t\t\tif (!components.hasOwnProperty(elemID)) {\n\t\t\t\t\tcomponents[elemID] = {};\n\t\t\t\t}\n\n\t\t\t\t// Preloader\n\t\t\t\tif (!$wrap.children('.whb-spinner-wrap').length > 0) {\n\t\t\t\t\t$wrap.prepend('<div class=\"whb-spinner-wrap\"><div class=\"whb-spinner\"><div class=\"double-bounce1\"></div><div class=\"double-bounce2\"></div></div></div>');\n\t\t\t\t}\n\n\t\t\t\t$.ajax({\n\t\t\t\t\ttype: 'POST',\n\t\t\t\t\turl: whb_localize.ajaxurl,\n\t\t\t\t\tdata: {\n\t\t\t\t\t\taction: 'whb_get_component_fields',\n\t\t\t\t\t\tel_name: elemName,\n\t\t\t\t\t\tnonce: whb_localize.nonce\n\t\t\t\t\t},\n\t\t\t\t\tsuccess: function (data) {\n\t\t\t\t\t\tif ($wrap.children('.whb-spinner-wrap').length > 0) {\n\t\t\t\t\t\t\t$wrap.children('.whb-spinner-wrap').remove();\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t$('.wn-header-builder-wrap').append(data);\n\n\t\t\t\t\t\t$currentModalEdit = $wrap.find('.whb-modal-wrap[data-element-target=\"' + elemName + '\"]');\n\n\t\t\t\t\t\t// Init tab\n\t\t\t\t\t\t$currentModalEdit.find('.whb-tabs-list').find('li').removeClass('w-active');\n\t\t\t\t\t\t$currentModalEdit.find('.whb-tab-panel').hide();\n\t\t\t\t\t\t$currentModalEdit.find('.whb-tabs-list').find('li:first').addClass('w-active');\n\t\t\t\t\t\t$currentModalEdit.find('.whb-modal-contents').children('.whb-tab-panel:first').show();\n\t\t\t\t\t\t// Styling tab\n\t\t\t\t\t\tvar $tabPanels = $currentModalEdit.find('.whb-modal-contents').children('.whb-tab-panel');\n\t\t\t\t\t\tif (currentPanel == 'desktop-view') {\n\t\t\t\t\t\t\t$tabPanels.find('.whb-tab-panel[data-id=\"#all\"]').show();\n\t\t\t\t\t\t} else if (currentPanel == 'tablets-view') {\n\t\t\t\t\t\t\t$tabPanels.find('.whb-tab-panel[data-id=\"#tablets\"]').show();\n\t\t\t\t\t\t} else if (currentPanel == 'mobiles-view') {\n\t\t\t\t\t\t\t$tabPanels.find('.whb-tab-panel[data-id=\"#mobiles\"]').show();\n\t\t\t\t\t\t} else if (currentPanel == 'sticky-view') {\n\t\t\t\t\t\t\t$tabPanels.find('.whb-tab-panel[data-id=\"#all\"]').show();\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// Show first panel\n\t\t\t\t\t\t$tabPanels.find('.whb-tab-panel').find('.whb-tab-panel:first').show();\n\n\t\t\t\t\t\t// Show current modal edit\n\t\t\t\t\t\t$currentModalEdit.show();\n\n\t\t\t\t\t\t// Set fields values\n\t\t\t\t\t\t$currentModalEdit.find('.whb-field').each(function () {\n\t\t\t\t\t\t\tvar $this = $(this);\n\t\t\t\t\t\t\tvar $fieldInput = $this.find('.whb-field-input');\n\t\t\t\t\t\t\tvar fieldName = $fieldInput.data('field-name');\n\t\t\t\t\t\t\tvar fieldStd = $fieldInput.data('field-std');\n\n\t\t\t\t\t\t\tfieldStd = (typeof fieldStd != 'undefined') ? fieldStd : '';\n\n\t\t\t\t\t\t\t// if statement: update field value\n\t\t\t\t\t\t\t// else statement: set default data to field\n\t\t\t\t\t\t\tif (typeof components[elemID][fieldName] != 'undefined') {\n\t\t\t\t\t\t\t\t$fieldInput.attr('value', components[elemID][fieldName]);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t$fieldInput.val(fieldStd).attr('value', fieldStd);\n\t\t\t\t\t\t\t\tif (fieldStd) {\n\t\t\t\t\t\t\t\t\tcomponents[elemID][fieldName] = fieldStd;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tif (new_el) {\n\t\t\t\t\t\t\tvar elemEditorIcon = $currentElement.find('a').find('i').attr('class');\n\t\t\t\t\t\t\tif (currentPanel == 'sticky-view') {\n\t\t\t\t\t\t\t\teditorComponents[currentPanel][currentRow][currentCell].push({\n\t\t\t\t\t\t\t\t\tname: elemName,\n\t\t\t\t\t\t\t\t\tuniqueId: elemUniqueID,\n\t\t\t\t\t\t\t\t\thidden_element: false,\n\t\t\t\t\t\t\t\t\teditor_icon: elemEditorIcon\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tfor (var platform_key in platforms) {\n\t\t\t\t\t\t\t\t\teditorComponents[platform_key][currentRow][currentCell].push({\n\t\t\t\t\t\t\t\t\t\tname: elemName,\n\t\t\t\t\t\t\t\t\t\tuniqueId: elemUniqueID,\n\t\t\t\t\t\t\t\t\t\thidden_element: false,\n\t\t\t\t\t\t\t\t\t\teditor_icon: elemEditorIcon\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Fields\n\t\t\t\t\t\twhbFields();\n\n\t\t\t\t\t\t// Dependency\n\t\t\t\t\t\t$currentModalEdit.find('.whb-dependency').on('change', function () {\n\t\t\t\t\t\t\twhbFieldDependency($(this));\n\t\t\t\t\t\t});\n\t\t\t\t\t\t$currentModalEdit.find('.whb-dependency').trigger('change');\n\n\t\t\t\t\t\t// Craete|Update element in all platforms (desktop, tablets, mobiles)\n\t\t\t\t\t\tif (new_el) {\n\t\t\t\t\t\t\tvar currentElemHtml = $currentElement[0].outerHTML;\n\t\t\t\t\t\t\t$('.whb-elements-item[data-element=\"' + elemName + '\"][data-unique-id=\"' + elemUniqueID + '\"]').each(function () {\n\t\t\t\t\t\t\t\t$(this).replaceWith(currentElemHtml);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\twhbModalDraggable($currentModalEdit[0]);\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\twhbDebug();\n\t\t\t}\n\n\n\t\t\t/**\n\t\t\t * Header Builder - Field Dependency Function\n\t\t\t * @author\tWEBNUS\n\t\t\t * @version\t1.0.0\n\t\t\t */\n\t\t\tfunction whbFieldDependency($parent) {\n\t\t\t\tvar dependencyData = $parent.data('dependency');\n\t\t\t\tvar parentValue = $parent.find('.whb-field-input').val();\n\n\t\t\t\t$.each(dependencyData, function (val, els) {\n\t\t\t\t\tfor (var i = 0; i < els.length; i++) {\n\n\t\t\t\t\t\tvar $elem = $currentModalEdit.find('.whb-field-input[data-field-name=\"' + els[i] + '\"]').closest('.whb-field').hide();\n\t\t\t\t\t\tvar haveDependency = $elem.attr('class') == 'whb-field w-col-sm-12 whb-dependency' ? true : false;\n\n\t\t\t\t\t\tif (val == parentValue) {\n\t\t\t\t\t\t\t$elem.show();\n\t\t\t\t\t\t\tif (haveDependency) {\n\t\t\t\t\t\t\t\twhbFieldDependency($el);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tif (haveDependency) {\n\t\t\t\t\t\t\t\t$.each($elem.data('dependency'), function (elem_value, elems) {\n\t\t\t\t\t\t\t\t\tfor (var i = 0; i < elems.length; i++) {\n\t\t\t\t\t\t\t\t\t\t$currentModalEdit.find('.whb-field-input[data-field-name=\"' + elems[i] + '\"]').closest('.whb-field').hide();\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} // end for\n\t\t\t\t});\n\t\t\t}\n\n\n\t\t\t/**\n\t\t\t * Header Builder - Fields Function\n\t\t\t * @author\tWEBNUS\n\t\t\t * @version\t1.0.0\n\t\t\t */\n\t\t\tfunction whbFields() {\n\t\t\t\tvar $modalWrap = $('.whb-modal-wrap');\n\n\t\t\t\t// Switcher field\n\t\t\t\t$modalWrap.find('.whb-switcher').find('.whb-field-input').on('change', function () {\n\t\t\t\t\tvar $this = $(this);\n\n\t\t\t\t\tif ($this.is(':checked')) {\n\t\t\t\t\t\t$this.attr('value', 'true');\n\t\t\t\t\t\t$this.attr('checked', 'checked');\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$this.attr('value', 'false');\n\t\t\t\t\t\t$this.removeAttr('checked');\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\t// Attach Image field\n\t\t\t\t$modalWrap.find('.whb-attach-image').each(function () {\n\t\t\t\t\tvar frame;\n\t\t\t\t\tvar $this = $(this);\n\t\t\t\t\tvar $addImgLink = $this.find('.whb-add-image');\n\t\t\t\t\tvar $delImgLink = $this.find('.whb-remove-image');\n\t\t\t\t\tvar $imgContainer = $this.find('.whb-preview-image');\n\n\t\t\t\t\t// ADD IMAGE LINK\n\t\t\t\t\t$addImgLink.on('click', function (event) {\n\t\t\t\t\t\tevent.preventDefault();\n\n\t\t\t\t\t\tvar $imgIdInput = $this.find('input.whb-attach-image');\n\t\t\t\t\t\tvar value = $imgIdInput.val();\n\n\t\t\t\t\t\tvalue = value ? value : '';\n\n\t\t\t\t\t\t// If the media frame already exists, reopen it.\n\t\t\t\t\t\tif (frame) {\n\t\t\t\t\t\t\tframe.open();\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Create a new media frame\n\t\t\t\t\t\tframe = wp.media({\n\t\t\t\t\t\t\tmultiple: false // Set to true to allow multiple files to be selected\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\t// When an image is selected in the media frame...\n\t\t\t\t\t\tframe.on('select', function () {\n\t\t\t\t\t\t\t// Get media attachment details from the frame state\n\t\t\t\t\t\t\tvar attachment = frame.state().get('selection').first().toJSON();\n\n\t\t\t\t\t\t\t// Send the attachment URL to our custom image input field.\n\t\t\t\t\t\t\t$imgContainer.html('').append('<img src=\"' + attachment.url + '\" alt=\"\">').css('display', 'block');\n\n\t\t\t\t\t\t\t// Send the attachment id to our hidden input\n\t\t\t\t\t\t\t$imgIdInput.attr('value', attachment.id);\n\n\t\t\t\t\t\t\t// Unhide the remove image link\n\t\t\t\t\t\t\t$delImgLink.show();\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\t// Finally, open the modal on click\n\t\t\t\t\t\tframe.open();\n\t\t\t\t\t});\n\n\t\t\t\t\t// Delete image link\n\t\t\t\t\t$delImgLink.on('click', function (event) {\n\t\t\t\t\t\tevent.preventDefault();\n\n\t\t\t\t\t\tvar $imgIdInput = $this.find('input.whb-attach-image');\n\n\t\t\t\t\t\t// Clear out the preview image\n\t\t\t\t\t\t$imgContainer.html('').hide();\n\n\t\t\t\t\t\t// Hide the delete image link\n\t\t\t\t\t\t$delImgLink.hide();\n\n\t\t\t\t\t\t// Delete the image id from the hidden input\n\t\t\t\t\t\t$imgIdInput.attr('value', '');\n\t\t\t\t\t});\n\t\t\t\t});\n\n\t\t\t\t// Number Unit field\n\t\t\t\t$modalWrap.find('.whb-number-unit').each(function () {\n\t\t\t\t\tvar $numberUnit = $(this);\n\t\t\t\t\tvar $inputNumber = $numberUnit.find('input[type=\"number\"]');\n\t\t\t\t\tvar $option = $numberUnit.find('.whb-opts').children('span');\n\t\t\t\t\tvar $fieldInput = $numberUnit.find('.whb-field-input');\n\n\t\t\t\t\t$option.on('click', function (event) {\n\t\t\t\t\t\tevent.preventDefault();\n\n\t\t\t\t\t\tvar $this = $(this);\n\t\t\t\t\t\tvar unit = $this.data('value');\n\t\t\t\t\t\tvar num_val = $inputNumber.val();\n\n\t\t\t\t\t\t$option.removeClass('whb-active');\n\t\t\t\t\t\t$this.addClass('whb-active');\n\t\t\t\t\t\tif (num_val) {\n\t\t\t\t\t\t\t$fieldInput.attr('value', num_val + unit);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t\t$inputNumber.on('change', function (event) {\n\t\t\t\t\t\tevent.preventDefault();\n\n\t\t\t\t\t\tvar $this = $(this);\n\t\t\t\t\t\tvar unit = $numberUnit.find('.whb-opts').children('span.whb-active').data('value');\n\t\t\t\t\t\tvar num_val = $inputNumber.val();\n\n\t\t\t\t\t\tif (num_val) {\n\t\t\t\t\t\t\t$fieldInput.attr('value', num_val + unit);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t$fieldInput.attr('value', '');\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t});\n\n\t\t\t\t// Custom Select field\n\t\t\t\t$modalWrap.find('.whb-custom-select').find('.whb-opts').find('span').on('click', function () {\n\t\t\t\t\tvar $this = $(this);\n\t\t\t\t\tvar $customSelect = $this.closest('.whb-custom-select');\n\t\t\t\t\tvar $option = $customSelect.find('.whb-opts').children('span');\n\t\t\t\t\tvar $fieldInput = $customSelect.find('.whb-field-input');\n\t\t\t\t\tvar value = $this.data('value');\n\n\t\t\t\t\t$option.removeClass('whb-active');\n\t\t\t\t\t$this.addClass('whb-active');\n\t\t\t\t\t$fieldInput.attr('value', value);\n\t\t\t\t});\n\n\t\t\t\t// Icons field\n\t\t\t\t$modalWrap.find('.whb-field-icons-wrap').each(function () {\n\t\t\t\t\tvar $iconsWrap = $(this);\n\t\t\t\t\tvar $icon = $iconsWrap.find('.wn-icon').find('label');\n\t\t\t\t\tvar $fieldInput = $iconsWrap.find('.whb-field-input');\n\n\t\t\t\t\t$icon.on('click', function (event) {\n\t\t\t\t\t\tevent.preventDefault();\n\n\t\t\t\t\t\tvar $this = $(this);\n\t\t\t\t\t\tvar $iconClass = $this.attr('for');\n\n\t\t\t\t\t\t$icon.removeClass('whb-active');\n\t\t\t\t\t\t$this.addClass('whb-active');\n\t\t\t\t\t\t$fieldInput.attr('value', $iconClass);\n\t\t\t\t\t});\n\t\t\t\t});\n\n\t\t\t\t// Color picker\n\t\t\t\t$modalWrap.find('.whb-color-picker').wpColorPicker();\n\n\n\t\t\t\t/**\n\t\t\t\t * Header Builder - Set Value of Field\n\t\t\t\t * @version\t1.0.0\n\t\t\t\t */\n\t\t\t\t$modalWrap.find('.whb-field').find('.whb-field-input').each(function () {\n\t\t\t\t\tvar $fieldInput = $(this);\n\n\t\t\t\t\t// Switcher\n\t\t\t\t\tif ($fieldInput.hasClass('whb-switcher-field')) {\n\t\t\t\t\t\tif ($fieldInput.val() == 'true') {\n\t\t\t\t\t\t\t$fieldInput.attr('checked', 'checked');\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t$fieldInput.removeAttr('checked');\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// Custom Select\n\t\t\t\t\tif ($fieldInput.hasClass('whb-field-custom-select')) {\n\t\t\t\t\t\t$fieldInput.siblings('.whb-opts').find('span').each(function () {\n\t\t\t\t\t\t\tvar $this = $(this);\n\t\t\t\t\t\t\t$this.removeClass('whb-active');\n\t\t\t\t\t\t\tif ($this.data('value') == $fieldInput.val()) {\n\t\t\t\t\t\t\t\t$this.addClass('whb-active');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\n\t\t\t\t\t// Number Unit\n\t\t\t\t\tif ($fieldInput.hasClass('whb-field-number-unit')) {\n\t\t\t\t\t\tvar value = $fieldInput.val();\n\n\t\t\t\t\t\tif (value) {\n\t\t\t\t\t\t\tvar $numberUnit = $fieldInput.closest('.whb-number-unit');\n\t\t\t\t\t\t\tvar $inputNumber = $numberUnit.find('input[type=\"number\"]');\n\t\t\t\t\t\t\tvar $option = $numberUnit.find('.whb-opts').children('span');\n\t\t\t\t\t\t\tvar numberValue = parseFloat(value);\n\t\t\t\t\t\t\tvar valueUnit = value.split(numberValue)[1];\n\n\t\t\t\t\t\t\t$inputNumber.val(numberValue);\n\t\t\t\t\t\t\t$option.each(function () {\n\t\t\t\t\t\t\t\tvar $this = $(this);\n\t\t\t\t\t\t\t\tvar unit = $this.data('value');\n\n\t\t\t\t\t\t\t\t$this.removeClass('whb-active');\n\t\t\t\t\t\t\t\tif (unit == valueUnit) {\n\t\t\t\t\t\t\t\t\t$this.addClass('whb-active');\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t$fieldInput.closest('.whb-number-unit').find('input[type=\"number\"]').val('');\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// Icon\n\t\t\t\t\tif ($fieldInput.hasClass('whb-icon-field')) {\n\t\t\t\t\t\tvar value = $fieldInput.val();\n\t\t\t\t\t\tvar $iconsWrap = $fieldInput.closest('.whb-field-icons-wrap');\n\t\t\t\t\t\tvar $icon = $iconsWrap.find('.wn-icon').find('label');\n\n\t\t\t\t\t\tif (value) {\n\t\t\t\t\t\t\t$icon.removeClass('whb-active');\n\t\t\t\t\t\t\t$iconsWrap.find('.wn-icon').find('label[for=\"' + value + '\"]').addClass('whb-active');\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t$icon.removeClass('whb-active');\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// Attach Image\n\t\t\t\t\tif ($fieldInput.hasClass('whb-attach-image')) {\n\t\t\t\t\t\tvar val = $fieldInput.val();\n\t\t\t\t\t\tvar $delImgLink = $fieldInput.siblings('.whb-remove-image');\n\t\t\t\t\t\tvar $imgContainer = $fieldInput.siblings('.whb-preview-image');\n\n\t\t\t\t\t\tif (val && !wp.media.attachment(val).destroyed) {\n\t\t\t\t\t\t\tif (!$currentModalEdit.find('.whb-modal-contents').find('.whb-spinner-wrap').length > 0) {\n\t\t\t\t\t\t\t\t$currentModalEdit.find('.whb-modal-contents').prepend('<div class=\"whb-spinner-wrap\"><div class=\"whb-spinner\"><div class=\"double-bounce1\"></div><div class=\"double-bounce2\"></div></div></div>');\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\twp.media.attachment(val).fetch().always(function () {\n\t\t\t\t\t\t\t\tif ($currentModalEdit.find('.whb-modal-contents').find('.whb-spinner-wrap').length > 0) {\n\t\t\t\t\t\t\t\t\t$currentModalEdit.find('.whb-modal-contents').find('.whb-spinner-wrap').remove();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t$imgContainer.html('')\n\t\t\t\t\t\t\t\tif (this.attributes.url != undefined) {\n\t\t\t\t\t\t\t\t\t// Send the attachment URL to our custom image input field.\n\t\t\t\t\t\t\t\t\t$imgContainer.append('<img src=\"' + this.attributes.url + '\" alt=\"\">').css('display', 'block');\n\t\t\t\t\t\t\t\t\t// Unhide the remove image link\n\t\t\t\t\t\t\t\t\t$delImgLink.show();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// Clear out the preview image\n\t\t\t\t\t\t\t$imgContainer.html('').hide();\n\t\t\t\t\t\t\t// Hide the delete image link\n\t\t\t\t\t\t\t$delImgLink.hide();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\n\n\t\t\t/**\n\t\t\t * Header Builder - Drag and Drop Functions\n\t\t\t * @author\tWEBNUS\n\t\t\t * @version\t1.0.0\n\t\t\t */\n\t\t\t// Editor draggable\n\t\t\tfunction whbEditorDraggable() {\n\t\t\t\t$sortablePlaces.sortable({\n\t\t\t\t\tconnectWith: '.whb-elements-place',\n\t\t\t\t\tplaceholder: 'ui-sortable-placeholder',\n\t\t\t\t\tforcePlaceholderSize: true,\n\t\t\t\t\ttolerance: 'pointer',\n\t\t\t\t\tstart: function (event, ui) {\n\t\t\t\t\t\tvar $elem = $(ui.item);\n\n\t\t\t\t\t\tcurrentPanel = $elem.closest('.whb-tab-panel').attr('id'); // desktop-view, tablets-view, mobiles-view, sticky-view\n\t\t\t\t\t\tcurrentRow = $elem.closest('.whb-columns').attr('data-columns'); // topbar, row1, row2, row3\n\t\t\t\t\t\tcurrentCell = $elem.closest('.whb-col').attr('data-align-col'); // left, center, right\n\t\t\t\t\t},\n\t\t\t\t\tbeforeStop: function (event, ui) {\n\t\t\t\t\t\tvar $elem = $(ui.item);\n\t\t\t\t\t\tvar $els_place = $elem.closest('.whb-elements-place');\n\t\t\t\t\t\tvar elemName = $elem.data('element');\n\t\t\t\t\t\tvar elemUniqueID = $elem.data('unique-id').toString();\n\t\t\t\t\t\tvar elemID = elemName + '_' + elemUniqueID;\n\t\t\t\t\t\tvar elemFromCell;\n\n\t\t\t\t\t\t// Remove element from start cell\n\t\t\t\t\t\tvar start_cell_obj = editorComponents[currentPanel][currentRow][currentCell];\n\t\t\t\t\t\tfor (var i = 0; i < start_cell_obj.length; i++) {\n\t\t\t\t\t\t\tif (start_cell_obj[i].uniqueId == elemUniqueID) {\n\t\t\t\t\t\t\t\telemFromCell = start_cell_obj.splice(i, 1);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Add element to received cell\n\t\t\t\t\t\tcurrentRow = $elem.closest('.whb-columns').attr('data-columns'); // topbar, row1, row2, row3\n\t\t\t\t\t\tcurrentCell = $elem.closest('.whb-col').attr('data-align-col'); // left, center, right\n\t\t\t\t\t\tvar new_cell_objs = $els_place.children('.whb-elements-item').map(function (i, el) {\n\t\t\t\t\t\t\t$elem = $(el);\n\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\tname: $elem.data('element'),\n\t\t\t\t\t\t\t\tuniqueId: $elem.data('unique-id').toString(),\n\t\t\t\t\t\t\t\thidden_element: JSON.parse($elem.data('hidden_element')),\n\t\t\t\t\t\t\t\teditor_icon: $elem.data('editor_icon'),\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t}).get();\n\n\t\t\t\t\t\t// Update editor components\n\t\t\t\t\t\teditorComponents[currentPanel][currentRow][currentCell] = new_cell_objs;\n\n\t\t\t\t\t\twhbCreateFrontendComponents();\n\t\t\t\t\t\twhbSaveAllData();\n\t\t\t\t\t\twhbDebug();\n\t\t\t\t\t}\n\t\t\t\t}).disableSelection();\n\t\t\t}\n\t\t\twhbEditorDraggable();\n\n\t\t\t// Modal draggable\n\t\t\tfunction whbModalDraggable(element) {\n\t\t\t\tvar pos1 = 0,\n\t\t\t\t\tpos2 = 0,\n\t\t\t\t\tpos3 = 0,\n\t\t\t\t\tpos4 = 0;\n\n\t\t\t\tif (element.getElementsByClassName('whb-modal-header')) {\n\t\t\t\t\telement.getElementsByClassName('whb-modal-header')[0].onmousedown = whb_drag_mouse_down;\n\t\t\t\t} else {\n\t\t\t\t\telement.onmousedown = whb_drag_mouse_down;\n\t\t\t\t}\n\n\t\t\t\tfunction whb_drag_mouse_down(e) {\n\t\t\t\t\te = e || window.event;\n\t\t\t\t\tpos3 = e.clientX;\n\t\t\t\t\tpos4 = e.clientY;\n\t\t\t\t\tdocument.onmouseup = whbCloseModalDraggable;\n\t\t\t\t\tdocument.onmousemove = whbElementDrag;\n\t\t\t\t}\n\n\t\t\t\tfunction whbElementDrag(e) {\n\t\t\t\t\te = e || window.event;\n\t\t\t\t\tpos1 = pos3 - e.clientX;\n\t\t\t\t\tpos2 = pos4 - e.clientY;\n\t\t\t\t\tpos3 = e.clientX;\n\t\t\t\t\tpos4 = e.clientY;\n\t\t\t\t\telement.style.top = (element.offsetTop - pos2) + \"px\";\n\t\t\t\t\telement.style.left = (element.offsetLeft - pos1) + \"px\";\n\t\t\t\t}\n\n\t\t\t\tfunction whbCloseModalDraggable() {\n\t\t\t\t\tdocument.onmouseup = null;\n\t\t\t\t\tdocument.onmousemove = null;\n\t\t\t\t}\n\t\t\t}\n\t\t\twhbModalDraggable($('.whb-modal-wrap')[0]);\n\n\n\t\t\t/**\n\t\t\t * Header Builder - Publish Button\n\t\t\t * @author\tWEBNUS\n\t\t\t * @version\t1.0.0\n\t\t\t */\n\t\t\t$('.redux-action_bar input[name=\"redux_save\"], #whb-publish').on('click', function (e) {\n\t\t\t\te.preventDefault();\n\t\t\t\t// Editor Preloader\n\t\t\t\tif ($wrap.children('.whb-spinner-wrap').length == 0) {\n\t\t\t\t\t$wrap.prepend('<div class=\"whb-spinner-wrap\"><div class=\"whb-spinner\"><div class=\"double-bounce1\"></div><div class=\"double-bounce2\"></div></div></div>');\n\t\t\t\t}\n\n\t\t\t\t// Frontend Preloader\n\t\t\t\tvar $WHBFrontend = $('#whbIframe').contents().find('#webnus-header-builder');\n\t\t\t\t// var $WHBFrontend = $('#webnus-header-builder');\n\t\t\t\tif ($WHBFrontend.children('.whb-spinner-wrap').length == 0) {\n\t\t\t\t\t$WHBFrontend.prepend('<div class=\"whb-spinner-wrap\"><div class=\"whb-spinner\"><div class=\"double-bounce1\"></div><div class=\"double-bounce2\"></div></div></div>');\n\t\t\t\t}\n\n\t\t\t\t$.ajax({\n\t\t\t\t\ttype: 'POST',\n\t\t\t\t\turl: whb_localize.ajaxurl,\n\t\t\t\t\tdata: {\n\t\t\t\t\t\taction: 'whb_publish',\n\t\t\t\t\t\tnonce: whb_localize.nonce,\n\t\t\t\t\t\tcomponents: JSON.stringify(components),\n\t\t\t\t\t\teditorComponents: JSON.stringify(editorComponents),\n\t\t\t\t\t\tfrontendComponents: JSON.stringify(frontendComponents),\n\t\t\t\t\t},\n\t\t\t\t\tsuccess: function (res) {\n\t\t\t\t\t\tconsole.log(res);\n\t\t\t\t\t\t// Remove prelaoder\n\t\t\t\t\t\t$wrap.children('.whb-spinner-wrap').remove();\n\t\t\t\t\t\t$WHBFrontend.children('.whb-spinner-wrap').remove();\n\t\t\t\t\t\tif (importButtonFlag) {\n\t\t\t\t\t\t\tlocation.reload();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\n\n\t\t\t/**\n\t\t\t * Header Builder - Collapse Button\n\t\t\t * @author\tWEBNUS\n\t\t\t * @version\t1.0.0\n\t\t\t */\n\t\t\t$('.whb-action-collapse').on('click', function () {\n\t\t\t\tvar $elem = $(this);\n\t\t\t\tvar $editor = $('.wn-header-builder-wrap.whb-frontend-builder').css('bottom', '-60%');\n\t\t\t\tvar $actions = $('.whb-actions').css('bottom', '0');\n\n\t\t\t\t// if: close\n\t\t\t\t// else: open\n\t\t\t\tif ($elem.hasClass('whb-open')) {\n\t\t\t\t\t$editor.css('bottom', '-60%');\n\t\t\t\t\t$actions.css('bottom', '0');\n\t\t\t\t\t$elem.removeClass('whb-open')\n\t\t\t\t\t$elem.children('i').attr('class', 'ti-arrow-circle-up');\n\t\t\t\t} else {\n\t\t\t\t\t$editor.css('bottom', '0');\n\t\t\t\t\t$actions.css('bottom', '60%');\n\t\t\t\t\t$elem.addClass('whb-open')\n\t\t\t\t\t$elem.children('i').attr('class', 'ti-arrow-circle-down');\n\t\t\t\t}\n\t\t\t});\n\n\n\t\t\t/**\n\t\t\t * Header Builder - Get Script\n\t\t\t * @author\tWEBNUS\n\t\t\t * @version\t1.0.0\n\t\t\t */\n\t\t\tfunction whbInjectScriptToIframe(src) {\n\t\t\t\tvar iframeHead = window.frames[\"whbIframe\"].document.getElementsByTagName(\"head\")[0];\n\t\t\t\tvar myScript = document.createElement('script');\n\t\t\t\tmyScript.src = src;\n\t\t\t\tiframeHead.appendChild(myScript);\n\t\t\t}\n\n\t\t\tfunction whbInjectStyleToIframe(styles) {\n\t\t\t\tvar iframeTagStyle = window.frames[\"whbIframe\"].document;\n\t\t\t\tiframeTagStyle.getElementById('whb-enqueue-dynamic-style').children[0].innerHTML = styles;\n\t\t\t}\n\n\n\t\t\t/**\n\t\t\t * Header Builder - Save All Data Function\n\t\t\t * @author\tWEBNUS\n\t\t\t * @version\t1.0.0\n\t\t\t */\n\t\t\tfunction whbSaveAllData() {\n\t\t\t\tvar $WHBFrontend = $('#whbIframe').contents().find('#webnus-header-builder');\n\n\t\t\t\t// Frontend Preloader\n\t\t\t\tif ($WHBFrontend.children('.whb-spinner-wrap').length == 0) {\n\t\t\t\t\t$WHBFrontend.prepend('<div class=\"whb-spinner-wrap\"><div class=\"whb-spinner\"><div class=\"double-bounce1\"></div><div class=\"double-bounce2\"></div></div></div>');\n\t\t\t\t}\n\n\t\t\t\tif (whbIsFrontendBuilder()) {\n\t\t\t\t\t$('.whb_save').css({\n\t\t\t\t\t\t'background-color': '#4cbf67',\n\t\t\t\t\t\t'box-shadow': '0 3px 10px -3px #4cbf67',\n\t\t\t\t\t\t'border-color': '#4cbf67'\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\t$.ajax({\n\t\t\t\t\ttype: 'POST',\n\t\t\t\t\turl: whb_localize.ajaxurl,\n\t\t\t\t\tdata: {\n\t\t\t\t\t\taction: 'whb_save_data',\n\t\t\t\t\t\tnonce: whb_localize.nonce,\n\t\t\t\t\t\tfrontendComponents: JSON.stringify(frontendComponents),\n\t\t\t\t\t},\n\t\t\t\t\tsuccess: function (data) {\n\t\t\t\t\t\tif (whbIsFrontendBuilder()) {\n\t\t\t\t\t\t\t$('.whb_save').css({\n\t\t\t\t\t\t\t\t'background-color': '#008aff',\n\t\t\t\t\t\t\t\t'box-shadow': '0 3px 10px -3px #008aff',\n\t\t\t\t\t\t\t\t'border-color': '#008aff'\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\tvar $newWHBFrontend = $(data);\n\n\t\t\t\t\t\t\t// Frontend Preloader\n\t\t\t\t\t\t\tif ($newWHBFrontend.children('.whb-spinner-wrap').length == 0) {\n\t\t\t\t\t\t\t\t$newWHBFrontend.prepend('<div class=\"whb-spinner-wrap\"><div class=\"whb-spinner\"><div class=\"double-bounce1\"></div><div class=\"double-bounce2\"></div></div></div>');\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t$WHBFrontend[0].outerHTML = $newWHBFrontend[0].outerHTML;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (importButtonFlag) {\n\t\t\t\t\t\t\t$('.redux-action_bar input[name=\"redux_save\"], #whb-publish').trigger('click');\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tif (whbIsFrontendBuilder()) {\n\t\t\t\t\t\t\t\t$.ajax({\n\t\t\t\t\t\t\t\t\ttype: 'POST',\n\t\t\t\t\t\t\t\t\turl: whb_localize.ajaxurl,\n\t\t\t\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\t\t\t\taction: 'whb_live_dynamic_styles',\n\t\t\t\t\t\t\t\t\t\tnonce: whb_localize.nonce,\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\tsuccess: function (data) {\n\t\t\t\t\t\t\t\t\t\twhbInjectStyleToIframe(data);\n\t\t\t\t\t\t\t\t\t\t$('#whbIframe').contents().find('#webnus-header-builder').children('.whb-spinner-wrap').remove();\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (whbIsFrontendBuilder()) {\n\t\t\t\t\t\t\tvar path = whb_localize.assets_url + 'src/frontend/';\n\t\t\t\t\t\t\tvar scripts = [\n\t\t\t\t\t\t\t\t'whb-jquery-plugins.js',\n\t\t\t\t\t\t\t\t'whb-frontend.js',\n\t\t\t\t\t\t\t];\n\t\t\t\t\t\t\twhbInjectScriptToIframe(path + scripts[0]);\n\t\t\t\t\t\t\twhbInjectScriptToIframe(path + scripts[1]);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\n\n\t\t\t/**\n\t\t\t * Header Builder - Create Frontend Components Function\n\t\t\t * @author\tWEBNUS\n\t\t\t * @version\t1.0.0\n\t\t\t */\n\t\t\tfunction whbCreateFrontendComponents() {\n\t\t\t\tfrontendComponents = $.extend(true, {}, editorComponents);\n\t\t\t\tfor (var screen_key in frontendComponents) {\n\t\t\t\t\tfor (var rowKey in frontendComponents[screen_key]) {\n\t\t\t\t\t\tfor (var cell_key in frontendComponents[screen_key][rowKey]) {\n\t\t\t\t\t\t\tvar cell = frontendComponents[screen_key][rowKey][cell_key];\n\n\t\t\t\t\t\t\tif (cell_key == 'settings') {\n\t\t\t\t\t\t\t\tvar elemName = cell.element;\n\t\t\t\t\t\t\t\tvar elemID = cell.uniqueId;\n\t\t\t\t\t\t\t\tvar component_key = elemName + '_' + elemID;\n\n\t\t\t\t\t\t\t\tif (component_key in components) {\n\t\t\t\t\t\t\t\t\tObject.assign(cell, components[component_key]);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tfor (const key in cell) {\n\t\t\t\t\t\t\t\t\tif (cell.hasOwnProperty(key)) {\n\t\t\t\t\t\t\t\t\t\tconst value = cell[key];\n\t\t\t\t\t\t\t\t\t\tif (key != 'hidden_element' && typeof value === 'boolean') {\n\t\t\t\t\t\t\t\t\t\t\tcell[key] = String(value);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tif (cell.length != 0) {\n\t\t\t\t\t\t\t\t\tfor (var el of cell) {\n\t\t\t\t\t\t\t\t\t\tvar elemName = el.name;\n\t\t\t\t\t\t\t\t\t\tvar elemID = el.uniqueId;\n\t\t\t\t\t\t\t\t\t\tvar component_key = elemName + '_' + elemID;\n\n\t\t\t\t\t\t\t\t\t\tif (component_key in components) {\n\t\t\t\t\t\t\t\t\t\t\tObject.assign(el, components[component_key]);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tfor (const key in el) {\n\t\t\t\t\t\t\t\t\t\t\tif (el.hasOwnProperty(key)) {\n\t\t\t\t\t\t\t\t\t\t\t\tconst value = el[key];\n\t\t\t\t\t\t\t\t\t\t\t\tif (key != 'hidden_element' && typeof value === 'boolean') {\n\t\t\t\t\t\t\t\t\t\t\t\t\tel[key] = String(value);\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\n\t\t\t/**\n\t\t\t * Header Builder - Import Button\n\t\t\t * @author\tWEBNUS\n\t\t\t * @version\t1.0.0\n\t\t\t */\n\t\t\t// import button\n\t\t\t$(\"#whb-import\").change(function (e) {\n\t\t\t\tvar file = event.target.files[0];\n\t\t\t\tvar reader = new FileReader();\n\t\t\t\treader.onload = onReaderLoad;\n\t\t\t\treader.readAsText(file);\n\t\t\t});\n\n\t\t\tfunction onReaderLoad(event) {\n\t\t\t\twhbImport(event.target.result);\n\t\t\t}\n\t\t\t// Import function\n\t\t\tfunction whbImport(content) {\n\t\t\t\tif (content && (whbIsJson(content) || whbIsObject(content))) {\n\t\t\t\t\t$body.css({\n\t\t\t\t\t\t'height': '1px',\n\t\t\t\t\t\t'overflow': 'hidden'\n\t\t\t\t\t}).prepend('<div class=\"whb-spinner-wrap\"><div class=\"whb-spinner\"><div class=\"double-bounce1\"></div><div class=\"double-bounce2\"></div></div></div>');\n\t\t\t\t\t$('#wpwrap').css('display', 'none');\n\t\t\t\t\tcontent = whbIsJson(content) ? JSON.parse(content) : content;\n\t\t\t\t\tcomponents = content.whb_data_components;\n\t\t\t\t\teditorComponents = content.whb_data_editor_components;\n\t\t\t\t\tfrontendComponents = content.whb_data_frontend_components;\n\t\t\t\t\timportButtonFlag = true;\n\t\t\t\t\twhbSaveAllData();\n\t\t\t\t} else {\n\t\t\t\t\talert('Header import input is empty! That\\'s why no data can import.');\n\t\t\t\t}\n\t\t\t}\n\n\n\t\t\t/**\n\t\t\t * Header Builder - Prebuild Button\n\t\t\t * @author\tWEBNUS\n\t\t\t * @version\t1.0.0\n\t\t\t */\n\t\t\t$wrap.find('.whb-prebuild-item').on('click', function (event) {\n\t\t\t\tevent.preventDefault();\n\t\t\t\tif (confirm('Your selected header pre-defined will apply on current elements and settings. Are you sure you want to overwrite?')) {\n\t\t\t\t\tvar fileName = $(this).data('file-name');\n\t\t\t\t\tvar $modal = $('.whb-full-modal');\n\t\t\t\t\tvar url = whb_localize.prebuilds_url + fileName;\n\n\t\t\t\t\t$.ajax({\n\t\t\t\t\t\tdataType: \"json\",\n\t\t\t\t\t\ttype: 'POST',\n\t\t\t\t\t\turl: url,\n\t\t\t\t\t\tsuccess: function (data) {\n\t\t\t\t\t\t\tvar content = data;\n\t\t\t\t\t\t\twhbImport(content);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\n\n\t\t\t/**\n\t\t\t * Header Builder - Header Type Switcher Button (Vertical|Horizontal)\n\t\t\t * @author\tWEBNUS\n\t\t\t * @version\t1.0.0\n\t\t\t */\n\t\t\tif (editorComponents['desktop-view']['row1']['settings']['header_type'] == 'vertical') {\n\t\t\t\tvar $panels = $wrap.find('.whb-tabs-panels');\n\t\t\t\tvar $settings = $panels.find('#desktop-view').children('.whb-columns[data-columns=\"row1\"]').children('.whb-elements-item');\n\t\t\t\tvar $headerSwitcher = $('#whb-vertical-header');\n\n\t\t\t\t$settings.attr('data-element', 'vertical-area');\n\t\t\t\t$headerSwitcher.find('span').text('Horizontal Header');\n\t\t\t\t$panels.addClass('whb-vertical-header-panel');\n\t\t\t\t$desktopSortablePlaces.sortable({\n\t\t\t\t\taxis: 'y'\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t$wrap.on('click', '#whb-vertical-header', function (event) {\n\t\t\t\tevent.preventDefault();\n\t\t\t\tvar $this = $(this);\n\t\t\t\tvar $tabs = $('.whb-tabs-list');\n\t\t\t\tvar $panels = $wrap.find('.whb-tabs-panels');\n\t\t\t\tvar $settings = $panels.find('#desktop-view').children('.whb-columns[data-columns=\"row1\"]').children('.whb-elements-item');\n\t\t\t\tvar desktopRow1Settings = editorComponents['desktop-view'].row1.settings;\n\t\t\t\tvar header_type = desktopRow1Settings.header_type;\n\n\t\t\t\tif (header_type == 'horizontal') {\n\t\t\t\t\tdesktopRow1Settings.element = 'vertical-area';\n\t\t\t\t\t$settings.attr('data-element', 'vertical-area');\n\t\t\t\t\tdesktopRow1Settings.header_type = 'vertical';\n\t\t\t\t\t$this.find('span').text('Horizontal Header');\n\t\t\t\t\t$panels.addClass('whb-vertical-header-panel');\n\t\t\t\t\t$desktopSortablePlaces.sortable({\n\t\t\t\t\t\taxis: 'y'\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tdesktopRow1Settings.element = 'header-area';\n\t\t\t\t\t$settings.attr('data-element', 'header-area');\n\t\t\t\t\tdesktopRow1Settings.header_type = 'horizontal';\n\t\t\t\t\t$this.find('span').text('Vertical Header');\n\t\t\t\t\t$panels.removeClass('whb-vertical-header-panel');\n\t\t\t\t\t$desktopSortablePlaces.sortable({\n\t\t\t\t\t\taxis: ''\n\t\t\t\t\t});\n\t\t\t\t\t$('#wrap').removeClass('whb-header-vertical-toggle');\n\t\t\t\t}\n\n\t\t\t\twhbCreateFrontendComponents();\n\t\t\t\twhbSaveAllData();\n\t\t\t\twhbDebug();\n\n\t\t\t\t// show desktop panel\n\t\t\t\t$tabs.find('li').removeClass('w-active');\n\t\t\t\t$tabs.find('li:first-child').addClass('w-active');\n\t\t\t\t$('.whb-tab-panel').hide();\n\t\t\t\t$('#desktop-view').show();\n\t\t\t});\n\n\t\t\t(function () {\n\t\t\t\tif ($('.whb-languages').length) {\n\t\t\t\t\t$('.whb-languages').niceSelect();\n\t\t\t\t\tvar $select = $('select.whb-languages');\n\t\t\t\t\t$select.change(function () {\n\t\t\t\t\t\tvar language = $(this).children(\"option:selected\").val();\n\t\t\t\t\t\tlocation.replace(window.location.href + '&lang=' + language);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t})();\n\t\t});\n\t}); // end document ready\n})(jQuery);"]}